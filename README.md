# Клиент-серверное приложение на C++

Простое клиент-серверное приложение, написанное на C++ с использованием Winsock. Проект представляет собой базовую реализацию клиент-серверной архитектуры, с поддержкой асинхронных подключений, автоматическим переподключением и обработкой ошибок.

## Функционал
**Клиент:**
- Автоматическое переподключение при разрыве соединения.
- Асинхронный прием сообщений в отдельном потоке.
- Таймауты на операции сокетов.
- Логирование ошибок и статуса подключения

**Сервер:**
- Многопоточная обработка клиентов (до 100 одновременно).
- Валидация входящих сообщений.
- Защита от перегрузки (отклонение новых подключений при достижении лимита).

## Технологии
- **Язык:** C++.
- **API для сетевых операций:** Winsock2. 
- **Система сборки:** CMake. 
- **Среда разработки:** Visual Studio.
- **Операционная система:** Windows.

## Сборка и запуск

### Требования
- Microsoft Visual Studio
- Компилятор с поддержкой C++17.
- CMake 3.10.
- Windows OS.

### Сборка
1. **Клонируйте репозиторий:**
    ```bash
    git clone https://github.com/evgff-0/client-server.git
    cd Server
    ```
2. **Создайте папку для сборки:**
    Visual Studio может сделать это автоматически при первом открытии проекта, но если вы хотите сделать это вручную:
    ```bash
    mkdir build
    cd build
    ```
3. **Сконфигурируйте проект с помощью CMake:**
    Откройте командную строку в папке `build`.
    ```bash
    cmake .. -G "Visual Studio 17 2022" -A x64
    ```
    *   Если вы запускаете команды прямо из IDE, этот шаг может быть пропущен.

4. **Откройте решение в Visual Studio:**
    *   После выполнения CMake, в папке `build` появится файл `.sln`.
    *   Откройте этот файл в Visual Studio.

5. **Соберите проект:**
    *   В Visual Studio выберите конфигурацию сборки (например, `Debug` или `Release`) и архитектуру (например, `x64`).
    *   Нажмите `F5`. Visual Studio скомпилирует код.
### Запуск
**Сервер:**
1. В Visual Studio установите `Server` как **Startup Project**.
2. Нажмите `F5` для запуска.
3. Сервер начнет прослушивание на порту, указанном в `server.cpp`.

**Клиент:**
1. В Visual Studio, кликните правой кнопкой мыши на проект `client` (в Solution Explorer) и выберите `Set as Startup Project`.
2. Нажмите `F5` для запуска клиента.
3. Клиент попытается подключиться к серверу по адресу `127.0.0.1:8080`.
4. После подключения введите сообщения и нажмите Enter. Введите `exit` для выхода.

## Примеры

### Запуск сервера
```bash
# Запустить сервер из Visual Studio (F5)
# Сервер запустится на 127.0.0.1:8080
```
### Запуск клиента
```bash
# Запустить клиент из Visual Studio (F5)
# Клиент подключится к 127.0.0.1:8080
```
### Пример сессии
**Сервер:**

Server running. Press Ctrl+C to stop.
New client connected. Socket: 1234
Client [1234]: Hello, World!
Client [1234] disconnected. Reason: graceful disconnect

**Клиент:**

Connected to server. Type messages to send (type 'exit' to quit):
Hello, World!
Received: Hello, World!
exit
Disconnected from server

## Лицензия
Этот проект распространяется под лицензией MIT. См. файл LICENSE для получения дополнительной информации. 